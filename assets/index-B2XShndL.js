import{u as e,p as s,j as l,c as r,C as n,G as a,a as t}from"./index-B-TTUnO0.js";import{b as i}from"./vendor-Cfst412r.js";import{M as o,B as c,a as d,b as j,T as h,c as u,C as p,d as m,P as x,e as g,S as f,f as v,g as C,h as b,D as T,i as k,H as y,j as w,k as M,l as S,A as N,m as P,F as _,n as F}from"./ProfileModal-CfkaM9tX.js";import{F as E,a as H,b as R}from"./icons-D63U5Bdi.js";const z=({isOpen:r,project:n,onClose:a})=>{var t;const{t:i}=e();if(!n)return null;const T=n.name.toLowerCase().replace(/ /g,"_").replace(/\./g,"_"),k=s[T],y=null==(t=i.projects)?void 0:t[T],w=(null==y?void 0:y.description)||n.description||"",M=(null==y?void 0:y.features)||(null==k?void 0:k.features)||[],S=(null==k?void 0:k.hasPreview)||!1,N=null==k?void 0:k.previewUrl;return l.jsx(o,{isOpen:r,onClick:a,children:l.jsxs(c,{onClick:e=>e.stopPropagation(),children:[l.jsxs(d,{children:[l.jsxs(j,{children:[l.jsx(h,{color:"#FF5F56",title:i.modal.close,onClick:a}),l.jsx(h,{color:"#FFBD2E",title:i.modal.projectModal.minimize}),l.jsx(h,{color:"#27C93F",title:i.modal.projectModal.maximize})]}),l.jsxs(u,{children:[l.jsx("span",{children:"ðŸ”’"}),l.jsx("span",{children:n.html_url.replace("https://","")})]}),l.jsx(p,{onClick:a,children:"Ã—"})]}),l.jsxs(m,{children:[l.jsxs(x,{children:[l.jsx("h1",{children:n.name}),l.jsx("p",{children:w})]}),l.jsxs(g,{children:[n.language&&l.jsxs(f,{children:[l.jsxs("div",{className:"label",children:[l.jsx(E,{style:{marginRight:"0.5rem"}}),i.modal.projectModal.language]}),l.jsx("div",{className:"value",children:n.language})]}),l.jsxs(f,{children:[l.jsxs("div",{className:"label",children:[l.jsx(H,{style:{marginRight:"0.5rem"}}),i.modal.stars]}),l.jsx("div",{className:"value",children:n.stargazers_count})]}),l.jsxs(f,{children:[l.jsx("div",{className:"label",children:i.modal.projectModal.forks}),l.jsx("div",{className:"value",children:n.forks_count})]})]}),M.length>0&&l.jsxs(v,{children:[l.jsx("div",{className:"features-title",children:i.modal.projectModal.featuresTitle}),l.jsx("div",{className:"features-list",children:M.map((e,s)=>l.jsx("div",{className:"feature-tag",children:e},s))})]}),S&&N&&l.jsxs(C,{children:[l.jsx("div",{className:"preview-title",children:i.modal.projectModal.previewTitle}),l.jsx("iframe",{src:N,title:`${n.name} Preview`,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"})]}),l.jsxs(b,{children:[l.jsxs("button",{className:"btn-primary",onClick:()=>window.open(n.html_url,"_blank"),children:[l.jsx(R,{})," ",i.modal.visitGithub]}),l.jsx("button",{className:"btn-secondary",onClick:a,children:i.modal.close})]})]})]})})},L=({projects:s,onProjectClick:r,isLoading:n=!1,loadingMessage:a="Loading..."})=>{const{t:t}=e(),o=i.useRef(),c=i.useRef(null),d=e=>{var s;const l=e.name.toLowerCase().replace(/ /g,"_").replace(/\./g,"_");return t.projects&&t.projects[l]?(null==(s=t.projects[l])?void 0:s.description)||e.description||"":e.description||""};if(i.useEffect(()=>{const e=c.current;if(!e||0===s.length||n)return;const l=setTimeout(()=>{const s=e.scrollHeight/2;e.scrollTop=s},100),r=()=>{const s=e.scrollHeight,l=s/2,r=e.scrollTop,n=e.clientHeight,a=Math.max(50,Math.floor(n/3));if(r+n>=s-a)return o.current&&clearTimeout(o.current),void(o.current=setTimeout(()=>{e.scrollTop=r-l},0));r<=a&&(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{e.scrollTop=r+l},0))};return e.addEventListener("scroll",r),()=>{e.removeEventListener("scroll",r),o.current&&clearTimeout(o.current),clearTimeout(l)}},[s.length,n]),n)return l.jsx(T,{children:l.jsx(k,{as:"div",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"220px",background:"transparent",border:"none"},children:l.jsx("p",{style:{fontSize:"1rem",opacity:.7},children:a})})});const j=[...s,...s];return l.jsx(T,{ref:c,children:j.map((e,s)=>l.jsxs(k,{as:"button",onClick:s=>r(e,s),style:{cursor:"pointer",background:"none",border:"none",padding:0},children:[l.jsx("h4",{children:e.name}),l.jsx("p",{children:d(e)}),e.language&&l.jsxs("p",{style:{fontSize:"0.8rem",opacity:.6},children:[t.home.languageIcon," ",e.language]})]},`${e.id}-${s}`))})},I=()=>{const{t:s}=e(),[o,c]=i.useState([]),[d,j]=i.useState(!0),[h,u]=i.useState(null),[p,m]=i.useState(!1),[x,g]=i.useState(!1);i.useEffect(()=>{(async()=>{const e=r.get(n.GITHUB_PROJECTS);if(e)return c(e),void j(!1);try{const e=await fetch(a.getReposUrl(a.USER));if(e.ok){const s=await e.json();r.set(n.GITHUB_PROJECTS,s,t.API_DATA),c(s)}}catch{console.log("GitHub API fetch failed"),c([])}finally{j(!1)}})()},[]);return l.jsxs(l.Fragment,{children:[l.jsxs(y,{children:[l.jsx(w,{}),l.jsxs(M,{children:[l.jsxs(S,{children:[l.jsx("div",{onClick:()=>g(!0),style:{cursor:"pointer"},children:l.jsx(N,{src:P,alt:"Pablo Bento Soares",size:"160px"})}),l.jsx("h2",{children:s.home.title}),l.jsx("p",{children:s.home.description1}),l.jsx("p",{children:s.home.description2}),l.jsx("p",{style:{fontSize:"1.3rem",fontWeight:600,marginTop:"1rem"},children:s.home.devopsMessage})]}),l.jsx(L,{projects:o,onProjectClick:(e,s)=>{s.preventDefault(),u(e),m(!0)},isLoading:d,loadingMessage:s.home.loadingMessage})]}),l.jsx(_,{})]}),l.jsx(z,{isOpen:p,project:h,onClose:()=>{m(!1),u(null)}}),l.jsx(F,{isOpen:x,onClose:()=>g(!1)})]})};export{M as DashboardContainer,S as DashboardInfo,T as DashboardProjects,I as HomePage,y as HomeStyled};
